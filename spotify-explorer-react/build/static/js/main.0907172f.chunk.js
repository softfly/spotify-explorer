(this["webpackJsonpspotify-explorer-react"]=this["webpackJsonpspotify-explorer-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),s=a.n(c),l=(a(15),a(1)),o=a(2),i=a(4),u=a(3),m=a(5);var b=a(6),h=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleKeyUp=a.handleKeyUp.bind(Object(b.a)(a)),a.q=n.a.createRef(),a.searchFormSubject=e.searchFormSubject,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleKeyUp",value:function(e){this.searchFormSubject.next({q:this.q.current.value})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container-fluid mb-2 mt-2"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("form",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search",ref:this.q,onKeyUp:this.handleKeyUp})))))))}}]),t}(n.a.Component),d=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!0,items:[]},a.searchFormSubject=e.searchFormSubject,a.searchFormSubject.subscribe((function(e){return a.getAlbums(e)})),a.spotifyService=e.spotifyService,a.spotifyService.albumsSubject.subscribe((function(e){return a.setAlbumsItems(e)})),a.spotifyService.albumsErrorSubject.subscribe((function(e){return a.setError(e)})),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getAlbums",value:function(e){e&&e.q&&(this.setState({isLoaded:!1,items:[]}),this.spotifyService.getAlbums(e.q))}},{key:"setAlbumsItems",value:function(e){e&&this.setState({isLoaded:!0,items:e.albums.items})}},{key:"setError",value:function(e){e&&this.setState({isLoaded:!1,error:e.message})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,r=e.items;return n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("table",{className:"table "},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Image"),n.a.createElement("th",{scope:"col"},"Name"),n.a.createElement("th",{scope:"col"},"Artists"),n.a.createElement("th",{scope:"col"},"Release Date"),n.a.createElement("th",{scope:"col"},"Total tracks"))),n.a.createElement("tbody",null,t&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5"},"Error: ",t)),!t&&!a&&n.a.createElement("tr",null,n.a.createElement("td",null,"Loading...")),r.map((function(e){return n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},n.a.createElement("img",{src:e.images[2].url,alt:"{item.name} Album"})),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.artists.map((function(e){return e.name})).join(", ")),n.a.createElement("td",null,e.release_date),n.a.createElement("td",null,e.total_tracks))})))))))}}]),t}(n.a.Component),f=a(17),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).searchFormSubject=new f.a,a.spotifyService=e.spotifyService,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement("div",{className:"navbar navbar-dark bg-dark shadow-sm"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{style:{color:"white"}},"Spotify Explorer")))),n.a.createElement(h,{searchFormSubject:this.searchFormSubject}),n.a.createElement(d,{searchFormSubject:this.searchFormSubject,spotifyService:this.spotifyService}))}}]),t}(n.a.Component),v=function(){function e(){Object(l.a)(this,e),this.albumsSubject=new f.a,this.albumsErrorSubject=new f.a}return Object(o.a)(e,[{key:"getAlbums",value:function(e){var t=this;fetch("/api/spotify/v1/search?q="+e).then((function(e){e.ok?e.json().then((function(e){return t.albumsSubject.next(e)})).catch((function(e){return t.albumsErrorSubject.next(e)})):e.json().then((function(e){return t.albumsErrorSubject.next(e)})).catch((function(e){return t.albumsErrorSubject.next(e)}))})).catch((function(e){return t.albumsErrorSubject.next(e)}))}}]),e}();var p=function(){var e=new v;return n.a.createElement(E,{spotifyService:e})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.0907172f.chunk.js.map